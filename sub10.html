<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title> 원주국토관리청 통합모니터링 시스템 </title>
  <link rel="stylesheet" href="css/common.css">
  <script src="js/jquery.min.js"></script>
  <script src="js/jquery-ui.min.js"></script>
  <script src="js/jquery.magnific-popup.min.js"></script>
  <script src="js/aos.js"></script>
  <script src="js/tabulator.min.js"></script>
  <script src="js/ui.js"></script>
</head>
<body>
  <div id="wrap">
    <div id="header">
      <h1><a href="#"><img src="img/seoul/logo-srocm.png" alt="" /></a></h1>
      <h2 class="hide">주메뉴</h2>
      <ul id="gnb">
        <li><a href="#">통합모니터링</a></li>
        <li>
          <a href="#">수집장치관리</a>
          <ul class="submenu submenu2">
            <li><a href="#">레이더 관리</a></li>
            <li><a href="#">라이다 관리</a></li>
            <li><a href="#">음향식노면검지기 관리</a></li>
          </ul>
        </li>
        <li>
          <a href="#">VMS관리</a>
          <ul class="submenu submenu3">
            <li><a href="#">VMS 제어</a></li>
            <li><a href="#">VMS 시나리오 관리</a></li>
            <li><a href="#">VMS 메시지 관리</a></li>
          </ul>
        </li>
        <li>
          <a href="sub5.html" target="_blank"><span class="ico">VMS 통합관제</span></a>
        </li>
        <li>
          <a href="#"><span class="ico">통계/이력관리</span></a>
        </li>
        <li>
          <a href="#">시스템 관리</a>
          <ul class="submenu submenu5">
            <li><a href="#">계정 관리</a></li>
            <li><a href="#">접속 이력관리</a></li>
          </ul>
        </li>
      </ul>
      <h2 class="hide">유틸메뉴</h2>
      <ul id="util">
        <li>
          <a href="#" class="user">
            <span class="avatar"></span>
            <span class="nickname">Admin 01</span>
          </a>
        </li>
        <li><a href="#" class="logout">로그아웃</a></li>
      </ul>
    </div><!-- #header -->
    <div id="container">
      <div class="tit-wrap">
        <div class="tit-l">
          <h3>VMS 이미지 관리</h3>
          <div class="navi-area">
            <a class="home" href="#">VMS관리</a>
            <a href="#" class="current">VMS 이미지 관리</a>
          </div>
        </div>
        <div class="tit-r">
          <div class="btns-wrap">
            <span class="btn-base"><a href="#"><em class="delete">삭제</em></a></span>
            <span class="btn-base"><a href="#"><em class="modify">수정</em></a></span>
            <span class="btn-base btn-popup-anim-1"><a href="#popup-manage-message"><em class="add">추가</em></a></span>
          </div>
        </div>
      </div><!-- .tit-wrap -->
      <div class="content-wrap w-full">
        <div class="tab-input-wrap">
          <div class="tab-base">
            <ul>
              <li class="on"><a href="#tabContent1">4단 19열</a></li>
              <li><a href="#tabContent2">11단 3열</a></li>
              <li><a href="#tabContent3">4단 4열</a></li>
            </ul>
          </div>
          <div class="input-wrap input-btn">
            <input type="text" class="input-base tp2" placeholder="검색 키워드를 입력하세요" />
            <span class="btn-base"><a href="#"><em class="search">검색</em></a></span>
          </div>
        </div>

        <ul class="panel-base">
          <li id="tabContent1">
            <div id="exampleTable1" class="c-table mt12"></div>
            <div class="total-area">
              <span class="total">총 <em>30</em>건</span>
            </div>
          </li>
          <li id="tabContent2">
            <div id="exampleTable2" class="c-table mt12"></div>
            <div class="total-area">
              <span class="total">총 <em>30</em>건</span>
            </div>
          </li>
          <li id="tabContent3">
            <div id="exampleTable3" class="c-table mt12"></div>
            <div class="total-area">
              <span class="total">총 <em>30</em>건</span>
            </div>
          </li>
        </ul>
        
      </div><!-- .content-wrap -->
    </div><!-- #container -->

    <div class="popup-wrap z-anim mfp-hide" id="popup-manage-message" data-width="1268">
      <h3 class="tit w-tip">
        <span class="tip">VMS 메시지 추가</span>
        <div class="tip-content" style="left: 150px;">
          <ul>
            <li><span>#nn</span>: 소통 등급 가변 정보  e.g., 소통원활 → #0001, 원활 → #01</li>
            <li><span>@nn</span>: 시간 가변 정보</li>
          </ul>
        </div>
      </h3>
      <div class="con-wrap">
        <div class="manage-area ver_tmp">
          <div class="temp-wrap">
            <div class="temp-tit-area">
              <span class="s-tit">템플릿 편집</span>
              <div class="label-select">
                <span class="label">VMS 유형</span>
                <span class="select-base">
                  <span class="value"></span>
                  <select>
                    <option value="0">선택</option>
                    <option value="1" selected>4단 19열</option>
                    <option value="2">11단 3열</option>
                    <option value="3">4단 4열</option>
                  </select>
                </span>
              </div>
            </div>
            <div class="temp-top-area">
              <div class="temp-item">
                <ul class="color-pick">
                  <li class="c-ff1900"><span></span></li>
                  <li class="c-39ff00"><span></span></li>
                  <li class="c-ffff00"><span></span></li>
                  <li class="c-0006ff"><span></span></li>
                  <li class="c-50ffff"><span></span></li>
                  <li class="c-ffffff"><span></span></li>
                  <li class="c-000000"><span></span></li>
                </ul>
                <ul>
                  <li class="trafficinfo"><span></span></li>
                </ul>
                <ul>
                  <li class="triangle"><span></span></li>
                  <li class="quadrangle"><span></span></li>
                  <li class="arrowshort"><span></span></li>
                  <li class="arrowlong"><span></span></li>
                </ul>

                <ul class="right">
                  <li class="refresh"><span></span></li>
                </ul>
              </div>
              <div class="temp-item">
                <span class="select-base" style="width: 100px;">
                  <span class="value"></span>
                  <select>
                    <option value="0">선택</option>
                    <option value="1" selected>20</option>
                    <option value="2">Value 2</option>
                    <option value="3">Value 3</option>
                  </select>
                </span>
                <ul>
                  <li class="bold"><span></span></li>
                  <li class="textsort"><span></span></li>
                </ul>
                <ul>
                  <li class="left"><span></span></li>
                  <li class="hcenter"><span></span></li>
                  <li class="right"><span></span></li>
                  <li class="top"><span></span></li>
                  <li class="vcenter"><span></span></li>
                  <li class="bottom"><span></span></li>
                  <li class="dcenter"><span></span></li>
                </ul>
              </div>
              <div class="temp-detail">
                <img id="tmpImg1" src="https://placehold.co/608x64/000000/4c556d/png?text=Canvas Area\n608 x 64" alt="">
                <img id="tmpImg2" src="https://placehold.co/145x268/000000/4c556d/png?text=Canvas Area\n145 x 268" alt="" style="display: none;">
              </div>
            </div>
            <div class="temp-tit-area mt16">
              <span class="s-tit">템플릿</span>
            </div>
            <div class="temp-view-area" id="tmpView1">
              <div class="col-wrap">
                <ul class="col-2">
                  <li>
                    <span class="img"><img src="https://placehold.co/318x32/000000/4c556d/png?text=Canvas Area 318 x 32" alt=""></span>
                    <span class="txt">기본 템플릿</span>
                  </li>
                  <li>
                    <span class="img"><img src="https://placehold.co/318x32/000000/4c556d/png?text=Canvas Area 318 x 32" alt=""></span>
                    <span class="txt">기본 템플릿</span>
                  </li>
                </ul>
              </div>
            </div><!-- .temp-view-area -->
            <div class="temp-view-area" id="tmpView2" style="display: none;">
              <div class="col-wrap">
                <ul class="col-5">
                  <li>
                    <span class="img"><img src="https://placehold.co/55x100/000000/4c556d/png?text=Canvas\nArea\n55 x 100" alt=""></span>
                    <span class="txt">기본 템플릿</span>
                  </li>
                  <li>
                    <span class="img"><img src="https://placehold.co/55x100/000000/4c556d/png?text=Canvas\nArea\n55 x 100" alt=""></span>
                    <span class="txt">템플릿 1</span>
                  </li>
                  <li>
                    <span class="img"><img src="https://placehold.co/55x100/000000/4c556d/png?text=Canvas\nArea\n55 x 100" alt=""></span>
                    <span class="txt">템플릿 2</span>
                  </li>
                  <li>
                    <span class="img"><img src="https://placehold.co/55x100/000000/4c556d/png?text=Canvas\nArea\n55 x 100" alt=""></span>
                    <span class="txt">템플릿 3</span>
                  </li>
                  <li>
                    <span class="img"><img src="https://placehold.co/55x100/000000/4c556d/png?text=Canvas\nArea\n55 x 100" alt=""></span>
                    <span class="txt">템플릿 4</span>
                  </li>
                </ul>
              </div>
            </div>
            <div class="temp-view-area" id="tmpView3" style="display: none;">
              <div class="col-wrap">
                <ul class="col-5">
                  <li>
                    <span class="img"><img src="https://placehold.co/50x100/000000/4c556d/png?text=Canvas\nArea\n50 x 100" alt=""></span>
                    <span class="txt">기본 템플릿</span>
                  </li>
                  <li>
                    <span class="img"><img src="https://placehold.co/50x100/000000/4c556d/png?text=Canvas\nArea\n50 x 100" alt=""></span>
                    <span class="txt">템플릿 1</span>
                  </li>
                  <li>
                    <span class="img"><img src="https://placehold.co/50x100/000000/4c556d/png?text=Canvas\nArea\n50 x 100" alt=""></span>
                    <span class="txt">템플릿 2</span>
                  </li>
                  <li>
                    <span class="img"><img src="https://placehold.co/50x100/000000/4c556d/png?text=Canvas\nArea\n50 x 100" alt=""></span>
                    <span class="txt">템플릿 3</span>
                  </li>
                  <li>
                    <span class="img"><img src="https://placehold.co/50x100/000000/4c556d/png?text=Canvas\nArea\n50 x 100" alt=""></span>
                    <span class="txt">템플릿 4</span>
                  </li>
                  <li>
                    <span class="img"><img src="https://placehold.co/50x100/000000/4c556d/png?text=Canvas\nArea\n50 x 100" alt=""></span>
                    <span class="txt">템플릿 5</span>
                  </li>
                  <li>
                    <span class="img"><img src="https://placehold.co/50x100/000000/4c556d/png?text=Canvas\nArea\n50 x 100" alt=""></span>
                    <span class="txt">템플릿 6</span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="temp-input-wrap">
            <div class="temp-tit-area">
              <span class="s-tit">메시지 마스터 정보</span>
            </div>
            <div class="items-input">
              <ul>
                <li class="toggle">
                  <div class="input-area">
                    <span class="label">메시지 이름</span>
                    <div class="input">
                      <input type="text" placeholder="메시지 이름을 입력하세요" class="input-base tp2" />
                    </div>
                  </div>
                </li>
                <li class="toggle withShadow" id="toggleImage">
                  <div class="input-area">
                    <span class="label">이미지</span>
                    <span class="s-info pb-info">등록할 이미지를 선택하고 추가하여 주세요</span>
                    <div class="pb-swiper swiper-container">
                      <div class="swiper-wrapper">
                        <div class="swiper-slide">
                          <span class="inner"><a class="item" href="#">이미지명명 명명명명명</a><a href="" class="btn-del"></a></span>
                        </div>
                        <div class="swiper-slide">
                          <span class="inner"><a class="item" href="#">이미지이름</a><a href="" class="btn-del"></a></span>
                        </div>
                        <div class="swiper-slide">
                          <span class="inner"><a class="item" href="#">이미지이름</a><a href="" class="btn-del"></a></span>
                        </div>
                        <div class="swiper-slide">
                          <span class="inner"><a class="item" href="#">이미지이름</a><a href="" class="btn-del"></a></span>
                        </div>
                        <div class="swiper-slide">
                          <span class="inner"><a class="item" href="#">이미지이름</a><a href="" class="btn-del"></a></span>
                        </div>
                        <div class="swiper-slide">
                          <span class="inner"><a class="item" href="#">이미지이름</a><a href="" class="btn-del"></a></span>
                        </div>
                        <div class="swiper-slide">
                          <span class="inner"><a class="item" href="#">이미지이름</a><a href="" class="btn-del"></a></span>
                        </div>
                        <div class="swiper-slide">
                          <span class="inner"><a class="item" href="#">이미지이름</a><a href="" class="btn-del"></a></span>
                        </div>
                      </div>
                    </div>
                    <a href="" class="btn-arrow"></a>
                  </div>
                  <div class="detail-area">
                    <div class="search-img-top">
                      <div class="input-wrap input-btn" style="width: 293px;">
                        <input type="text" class="input-base tp2" placeholder="검색 키워드를 입력하세요" />
                        <span class="btn-base"><a href="#"><em class="search">검색</em></a></span>
                      </div>
                      <span class="btn-base"><a href="#"><em class="add">이미지 추가</em></a></span>
                    </div>
                    <ul class="search-img-list">
                      <li>
                        <dl>
                          <dt>
                            <span class="chk-base">
                              <input type="checkbox" id="chk-1" />
                              <label for="chk-1">이미지명명 명명명명명</label>
                            </span>
                          </dt>
                          <dd>
                            <img src="https://placehold.co/64x64/000000/4c556d/png" alt="">
                          </dd>
                        </dl>
                      </li>
                      <li>
                        <dl>
                          <dt>
                            <span class="chk-base">
                              <input type="checkbox" id="chk-2" />
                              <label for="chk-2">이미지명</label>
                            </span>
                          </dt>
                          <dd>
                            <img src="https://placehold.co/64x64/000000/4c556d/png" alt="">
                          </dd>
                        </dl>
                      </li>
                      <li>
                        <dl>
                          <dt>
                            <span class="chk-base">
                              <input type="checkbox" id="chk-3" />
                              <label for="chk-3">이미지 이름</label>
                            </span>
                          </dt>
                          <dd>
                            <img src="https://placehold.co/64x64/000000/4c556d/png" alt="">
                          </dd>
                        </dl>
                      </li>
                      <li>
                        <dl>
                          <dt>
                            <span class="chk-base">
                              <input type="checkbox" id="chk-4" />
                              <label for="chk-4">이미지명명 명명명명명</label>
                            </span>
                          </dt>
                          <dd>
                            <img src="https://placehold.co/64x64/000000/4c556d/png" alt="">
                          </dd>
                        </dl>
                      </li>
                      <li>
                        <dl>
                          <dt>
                            <span class="chk-base">
                              <input type="checkbox" id="chk-5" />
                              <label for="chk-5">이미지명명 명명명명명</label>
                            </span>
                          </dt>
                          <dd>
                            <img src="https://placehold.co/64x64/000000/4c556d/png" alt="">
                          </dd>
                        </dl>
                      </li>
                    </ul>
                  </div>
                </li>
                <li class="toggle withShadow" id="toggleRespon">
                  <div class="input-area">
                    <span class="label">가변정보</span>
                    <span class="s-info pb-info">등록할 가변정보를 선택하고 추가하여 주세요</span>
                    <div class="pb-swiper swiper-container">
                      <div class="swiper-wrapper">
                        <div class="swiper-slide">
                          <span class="inner"><a class="item" href="#">구간명 ~ 구간명</a><a href="" class="btn-del"></a></span>
                        </div>
                        <div class="swiper-slide">
                          <span class="inner"><a class="item" href="#">자안교차로 부근 ~ 팔탄교차로</a><a href="" class="btn-del"></a></span>
                        </div>
                      </div>
                    </div>
                    <a href="" class="btn-arrow"></a>
                  </div>
                  <div class="detail-area">
                    <div class="search-res-area">
                      <div class="search-res-left" style="background:url(/img/map-vw-2-dnight.png) 50% 50% no-repeat;"></div>
                      <div class="search-res-right">
                        <div class="input-wrap input-btn">
                          <input type="text" class="input-base tp2" placeholder="검색 키워드를 입력하세요" />
                          <span class="btn-base"><a href="#"><em class="search">검색</em></a></span>
                        </div>
                        <span class="btn-base w-full"><a href="#"><em class="add">가변정보 등록</em></a></span>
                        <div id="exampleTable_popup" class="c-table mt12"></div>
                      </div>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div><!-- .manage-area -->
        <div class="btns-wrap t-center">
          <span class="btn-base tp3 b-mfp-close"><a href="#"><em class="cancel">취소</em></a></span>
          <span class="btn-base"><a href="#"><em class="save">저장</em></a></span>
        </div>
      </div>
    </div><!-- .popup-wrap -->
    
  </div><!-- #wrap -->

  <script src="js/swiper.js"></script>
  <script>
    createTableType10("#exampleTable1", "/img/img-vms-412.png", 607, 64);
    createTableType10("#exampleTable2", "/img/img-vms-113.png", 54, 100);
    createTableType10("#exampleTable3", "/img/img-vms-44.png", 50, 100);
    

    $(window).on('load resize', function(){
      $('.content-wrap .c-table.tabulator').css('height', $(window).height() - 249);
    });

    $('[class*=popup-wrap] .tit.w-tip .tip').on('click', function(){
      if (!$(this).hasClass('on')) {
        $(this).addClass('on');
        $(this).closest('.tit').find('.tip-content').show();
      } else {
        $(this).removeClass('on');
        $(this).closest('.tit').find('.tip-content').hide();
      }
    });
    $('.items-input ul li.toggle .input-area .btn-arrow').on('click', function(e){
      e.preventDefault();
      if (!$(this).closest('li.toggle').hasClass('on')) {
        $(this).closest('li.toggle').addClass('on')
      } else {
        $(this).closest('li.toggle').removeClass('on')
      }
    });

    function addListItems(count) {
      let list = $('.search-img-list');
      let currentCount = list.children('li').length;
      
      for (let i = 1; i <= count; i++) {
        let newIndex = currentCount + i;
        let listItem = `
            <li>
                <dl>
                    <dt>
                        <span class="chk-base">
                            <input type="checkbox" id="chk-${newIndex}" />
                            <label for="chk-${newIndex}">이미지명 ${newIndex}</label>
                        </span>
                    </dt>
                    <dd>
                        <img src="https://placehold.co/64x64/000000/4c556d/png" alt="">
                    </dd>
                </dl>
            </li>
        `;
        list.append(listItem);
      }
    }

    $('.pb-swiper').each(function(index, element) {
      var pbSwiper = new Swiper(element, {
        slidesPerView: 'auto',
        observer: true,
        observeParents: true,
        observeSlideChildren: true,
      });

      var $pbSlide = $(element).find('.swiper-slide a.item');
      var $activeSlide = $(element).find('.swiper-slide.on');
      var activeIndex = $activeSlide.index();

      if (activeIndex !== -1) {
        pbSwiper.slideTo(activeIndex, 0);
      }

      $pbSlide.on('click', function(e) {
        e.preventDefault();
        var $slide = $(this).closest('.swiper-slide');
        $slide.addClass('on').siblings().removeClass('on');
        pbSwiper.slideTo($slide.index());
      });
    });

    $('.pb-swiper.swiper-container .swiper-slide .inner .btn-del').on('click', function(e){
      e.preventDefault();
      $(this).closest('.swiper-slide').remove();
    });

    $('#tmpView1 .col-wrap').css('width', $('#tmpView1 .col-wrap li').length * (316 + 8) - 8);
    $('#tmpView2 .col-wrap').css('width', $('#tmpView2 .col-wrap li').length * (120 + 8));
    $('#tmpView3 .col-wrap').css('width', $('#tmpView3 .col-wrap li').length * (120 + 8));

    var Qsample = $.urlParam('sample');
    var Qpopup = $.urlParam('popup');
    var Qtab = $.urlParam('tab');
    
    if (Qpopup === 'manageMessage') {
        setTimeout(function () {
          $('[href="#popup-manage-message"]').click();
          if (Qsample == '2') {
            $('#popup-manage-message .items-input ul li.toggle:nth-child(2)').addClass('on');
          } else if (Qsample == '3') {
            $('#popup-manage-message .items-input ul li.toggle:nth-child(2)').addClass('on');
            $('#toggleImage .pb-info').hide();
            $('#toggleImage .pb-swiper').css('display', 'block');
            addListItems(10);
          } else if (Qsample == '4' || Qsample == '5') {
            $('#popup-manage-message select').val('2').trigger('change'); // 11단 3열
            $('#tmpImg1, #tmpView1').hide();
            $('#tmpImg2, #tmpView2').show();
            $('#toggleImage .pb-info').hide();
            $('#toggleImage .pb-swiper').css('display', 'block');
            $('#popup-manage-message .items-input ul li.toggle:nth-child(3)').addClass('on');
            setTimeout(() => {
              createTableType11("#exampleTable_popup");
            }, 250);
            if (Qsample == '5') {
              $('#toggleRespon .pb-info').hide();
              $('#toggleRespon .pb-swiper').css('display', 'block');
            }
          } else if (Qsample == '6') {
            $('#popup-manage-message select').val('3').trigger('change'); // 4단 4열
            $('#tmpImg1, #tmpView1').hide();
            $('#tmpImg2, #tmpView3').show();
            $('#toggleImage .pb-info').hide();
            $('#toggleImage .pb-swiper').css('display', 'block');
            $('#toggleRespon .pb-info').hide();
            $('#toggleRespon .pb-swiper').css('display', 'block');
          }
        }, 250);
      }

      if (Qtab) {
        setTimeout(function(){
          $(`.tab-input-wrap .tab-base li:eq(${Qtab - 1}) a`).click();
        }, 250);
      }
  </script>
</body>
</html>